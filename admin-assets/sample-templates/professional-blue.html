<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{{user.full_name}} - Resume</title>
    <style>
      @page {
        size: A4;
        margin: 20mm;
      }
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body {
        font-family: "Segoe UI", "Helvetica Neue", Arial, sans-serif;
        color: #2d3748;
        background: #f7fafc;
        line-height: 1.6;
      }
      .page {
        width: 210mm;
        min-height: 297mm;
        margin: auto;
        background: #fff;
        padding: 30mm 25mm;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.08);
      }

      /* ── Header ── */
      .header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        border-bottom: 3px solid #3182ce;
        padding-bottom: 16px;
        margin-bottom: 24px;
      }
      .header-left h1 {
        font-size: 32px;
        font-weight: 700;
        color: #1a202c;
        margin-bottom: 4px;
      }
      .header-left .tagline {
        font-size: 16px;
        color: #3182ce;
        font-weight: 500;
      }
      .contact-info {
        text-align: right;
        font-size: 12px;
        color: #4a5568;
        line-height: 1.8;
      }
      .contact-info a {
        color: #3182ce;
        text-decoration: none;
      }

      /* ── Sections ── */
      .section {
        margin-bottom: 22px;
      }
      .section-title {
        font-size: 16px;
        font-weight: 700;
        color: #3182ce;
        text-transform: uppercase;
        letter-spacing: 1.5px;
        border-bottom: 1px solid #e2e8f0;
        padding-bottom: 6px;
        margin-bottom: 12px;
      }

      /* ── Summary ── */
      .summary {
        font-size: 13px;
        color: #4a5568;
      }

      /* ── Experience / Education / Projects ── */
      .entry {
        margin-bottom: 16px;
      }
      .entry:last-child {
        margin-bottom: 0;
      }
      .entry-header {
        display: flex;
        justify-content: space-between;
        align-items: baseline;
      }
      .entry-title {
        font-size: 15px;
        font-weight: 600;
        color: #1a202c;
      }
      .entry-subtitle {
        font-size: 13px;
        color: #718096;
      }
      .entry-date {
        font-size: 12px;
        color: #718096;
        white-space: nowrap;
      }
      .entry-description {
        font-size: 13px;
        color: #4a5568;
        margin-top: 4px;
      }
      .entry-list {
        padding-left: 18px;
        margin-top: 6px;
      }
      .entry-list li {
        font-size: 13px;
        color: #4a5568;
        margin-bottom: 3px;
      }
      .tech-tags {
        margin-top: 6px;
        display: flex;
        flex-wrap: wrap;
        gap: 6px;
      }
      .tech-tag {
        background: #ebf8ff;
        color: #2b6cb0;
        padding: 2px 8px;
        border-radius: 4px;
        font-size: 11px;
        font-weight: 500;
      }

      /* ── Skills ── */
      .skills-grid {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
      }
      .skill-item {
        background: #f7fafc;
        border: 1px solid #e2e8f0;
        padding: 4px 12px;
        border-radius: 4px;
        font-size: 12px;
      }
      .skill-name {
        font-weight: 600;
        color: #2d3748;
      }
      .skill-level {
        color: #718096;
        margin-left: 4px;
      }

      /* ── Languages ── */
      .lang-list {
        display: flex;
        gap: 16px;
        flex-wrap: wrap;
      }
      .lang-item {
        font-size: 13px;
      }
      .lang-name {
        font-weight: 600;
        color: #2d3748;
      }
      .lang-level {
        color: #718096;
      }

      /* ── Certifications ── */
      .cert-entry {
        margin-bottom: 8px;
      }
      .cert-name {
        font-size: 14px;
        font-weight: 600;
        color: #1a202c;
      }
      .cert-org {
        font-size: 12px;
        color: #718096;
      }
      .cert-link {
        font-size: 12px;
      }
      .cert-link a {
        color: #3182ce;
        text-decoration: none;
      }

      /* ── Awards ── */
      .award-entry {
        margin-bottom: 8px;
      }
      .award-title {
        font-size: 14px;
        font-weight: 600;
        color: #1a202c;
      }
      .award-meta {
        font-size: 12px;
        color: #718096;
      }

      /* ── Custom Fields ── */
      .custom-fields {
        display: flex;
        flex-wrap: wrap;
        gap: 12px;
      }
      .custom-field {
        font-size: 13px;
      }
      .custom-label {
        font-weight: 600;
        color: #2d3748;
      }
      .custom-value {
        color: #4a5568;
      }

      /* ── Social Links ── */
      .social-links {
        display: flex;
        gap: 16px;
        flex-wrap: wrap;
      }
      .social-link {
        font-size: 12px;
      }
      .social-link a {
        color: #3182ce;
        text-decoration: none;
      }
      .social-platform {
        font-weight: 600;
      }
    </style>
  </head>
  <body>
    <div class="page">
      <!-- ═══ HEADER ═══ -->
      <div class="header">
        <div class="header-left">
          <h1>{{user.full_name}}</h1>
          {{#if resume.title}}
          <div class="tagline">{{resume.title}}</div>
          {{/if}}
        </div>
        <div class="contact-info">
          {{#if user.email}}
          <div>{{user.email}}</div>
          {{/if}} {{#if user.phones}}
          <div>{{primaryPhone user.phones}}</div>
          {{/if}} {{#if user.city}}
          <div>
            {{user.city}}{{#if user.state}}, {{user.state}}{{/if}}{{#if
            user.country}} · {{user.country}}{{/if}}
          </div>
          {{/if}} {{#each socialMedia}}
          <div><a href="{{this.url}}">{{this.platform}}</a></div>
          {{/each}}
        </div>
      </div>

      <!-- ═══ SUMMARY ═══ -->
      {{#if resume.summary}}
      <div class="section">
        <div class="section-title">Summary</div>
        <p class="summary">{{resume.summary}}</p>
      </div>
      {{/if}}

      <!-- ═══ EXPERIENCE ═══ -->
      {{#ifHasItems experiences}}
      <div class="section">
        <div class="section-title">Experience</div>
        {{#each experiences}}
        <div class="entry">
          <div class="entry-header">
            <div>
              <div class="entry-title">{{this.jobTitle}}</div>
              <div class="entry-subtitle">
                {{this.company}}{{#if this.location}} ·
                {{this.location}}{{/if}}{{#if this.employmentType}} ·
                {{this.employmentType}}{{/if}}
              </div>
            </div>
            <div class="entry-date">
              {{dateRange this.startDate this.endDate this.isCurrent}}
            </div>
          </div>
          {{#if this.description}}
          <p class="entry-description">{{this.description}}</p>
          {{/if}} {{#ifHasItems this.achievements}}
          <ul class="entry-list">
            {{#each this.achievements}}
            <li>{{this}}</li>
            {{/each}}
          </ul>
          {{/ifHasItems}} {{#ifHasItems this.technologiesUsed}}
          <div class="tech-tags">
            {{#each this.technologiesUsed}}
            <span class="tech-tag">{{this}}</span>
            {{/each}}
          </div>
          {{/ifHasItems}}
        </div>
        {{/each}}
      </div>
      {{/ifHasItems}}

      <!-- ═══ EDUCATION ═══ -->
      {{#ifHasItems educations}}
      <div class="section">
        <div class="section-title">Education</div>
        {{#each educations}}
        <div class="entry">
          <div class="entry-header">
            <div>
              <div class="entry-title">
                {{this.degree}}{{#if this.fieldOfStudy}} in
                {{this.fieldOfStudy}}{{/if}}
              </div>
              <div class="entry-subtitle">{{this.institution}}</div>
            </div>
            <div class="entry-date">
              {{dateRange this.startDate this.endDate this.isOngoing}}
            </div>
          </div>
          {{#if this.grade}}
          <p class="entry-description">Grade: {{this.grade}}</p>
          {{/if}} {{#if this.description}}
          <p class="entry-description">{{this.description}}</p>
          {{/if}}
        </div>
        {{/each}}
      </div>
      {{/ifHasItems}}

      <!-- ═══ PROJECTS ═══ -->
      {{#ifHasItems projects}}
      <div class="section">
        <div class="section-title">Projects</div>
        {{#each projects}}
        <div class="entry">
          <div class="entry-header">
            <div>
              <div class="entry-title">
                {{this.title}}{{#if this.role}} — {{this.role}}{{/if}}
              </div>
              {{#if this.projectUrl}}
              <div class="entry-subtitle">
                <a
                  href="{{this.projectUrl}}"
                  style="color: #3182ce; text-decoration: none"
                  >{{this.projectUrl}}</a
                >
              </div>
              {{/if}}
            </div>
            <div class="entry-date">
              {{dateRange this.startDate this.endDate this.isOngoing}}
            </div>
          </div>
          {{#if this.description}}
          <p class="entry-description">{{this.description}}</p>
          {{/if}} {{#ifHasItems this.highlights}}
          <ul class="entry-list">
            {{#each this.highlights}}
            <li>{{this}}</li>
            {{/each}}
          </ul>
          {{/ifHasItems}} {{#ifHasItems this.technologies}}
          <div class="tech-tags">
            {{#each this.technologies}}
            <span class="tech-tag">{{this}}</span>
            {{/each}}
          </div>
          {{/ifHasItems}}
        </div>
        {{/each}}
      </div>
      {{/ifHasItems}}

      <!-- ═══ SKILLS ═══ -->
      {{#ifHasItems skills}}
      <div class="section">
        <div class="section-title">Skills</div>
        <div class="skills-grid">
          {{#each skills}}
          <div class="skill-item">
            <span class="skill-name">{{this.name}}</span>
            <span class="skill-level">· {{this.expertise}}</span>
          </div>
          {{/each}}
        </div>
      </div>
      {{/ifHasItems}}

      <!-- ═══ CERTIFICATIONS ═══ -->
      {{#ifHasItems certifications}}
      <div class="section">
        <div class="section-title">Certifications</div>
        {{#each certifications}}
        <div class="cert-entry">
          <div class="cert-name">{{this.name}}</div>
          {{#if this.issuingOrganization}}
          <div class="cert-org">
            {{this.issuingOrganization}} {{#if this.issueDate}} · Issued
            {{formatDate this.issueDate}}{{/if}} {{#unless this.doesNotExpire}}
            {{#if this.expirationDate}} · Expires {{formatDate
            this.expirationDate}}{{/if}} {{/unless}}
          </div>
          {{/if}} {{#if this.credentialUrl}}
          <div class="cert-link">
            <a href="{{this.credentialUrl}}">View Credential</a>
          </div>
          {{/if}}
        </div>
        {{/each}}
      </div>
      {{/ifHasItems}}

      <!-- ═══ AWARDS ═══ -->
      {{#ifHasItems awards}}
      <div class="section">
        <div class="section-title">Awards</div>
        {{#each awards}}
        <div class="award-entry">
          <div class="award-title">{{this.title}}</div>
          <div class="award-meta">
            {{#if this.issuer}}{{this.issuer}}{{/if}} {{#if this.date}} ·
            {{formatDate this.date}}{{/if}}
          </div>
          {{#if this.description}}
          <p class="entry-description">{{this.description}}</p>
          {{/if}}
        </div>
        {{/each}}
      </div>
      {{/ifHasItems}}

      <!-- ═══ LANGUAGES ═══ -->
      {{#ifHasItems languages}}
      <div class="section">
        <div class="section-title">Languages</div>
        <div class="lang-list">
          {{#each languages}}
          <div class="lang-item">
            <span class="lang-name">{{this.name}}</span>
            <span class="lang-level"> ({{this.level}})</span>
          </div>
          {{/each}}
        </div>
      </div>
      {{/ifHasItems}}

      <!-- ═══ HOBBIES ═══ -->
      {{#ifHasItems user.hobbies}}
      <div class="section">
        <div class="section-title">Interests</div>
        <p class="summary">{{joinArray user.hobbies ", "}}</p>
      </div>
      {{/ifHasItems}}

      <!-- ═══ CUSTOM FIELDS ═══ -->
      {{#ifHasItems resume.customFields}}
      <div class="section">
        <div class="section-title">Additional Information</div>
        <div class="custom-fields">
          {{#each resume.customFields}}
          <div class="custom-field">
            <span class="custom-label">{{this.label}}:</span>
            <span class="custom-value"> {{this.value}}</span>
          </div>
          {{/each}}
        </div>
      </div>
      {{/ifHasItems}}
    </div>
  </body>
</html>
